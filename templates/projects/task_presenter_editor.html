{% extends "_layouts/presenter.html" %}
{% set active_page = "projects" %}
{% set active_link = "tasks" %}
{% import "_helpers/_form.html" as form_helpers %}

{% block content %}
{% assets output="css/gen/editor.min.css", "../node_modules/codemirror/lib/codemirror.css" %}
    <link rel="stylesheet" type="text/css" href="{{ ASSET_URL }}">
{% endassets %}
<form method="POST" action="{{ url_for('project.task_presenter_editor', short_name=project.short_name) }}" class="h-100">
    {{ form.hidden_tag() }}
    <div class="btn-group codemirror-buttons p-3">
        <a href="{{url_for('project.tasks', short_name=project.short_name)}}" class="btn btn-sm btn-outline-secondary" role="button">Cancel</a>
        <button type="submit" class="btn btn-sm btn-outline-primary" role="button">Update</button>
    </div>
    {{ form.editor }}
</form>
{% assets filters="jsmin", output="js/gen/task_presenter_editor.min.js",
    "../node_modules/codemirror/lib/codemirror.js",
    "../node_modules/codemirror/mode/xml/xml.js",
    "../node_modules/codemirror/mode/javascript/javascript.js",
    "../node_modules/codemirror/mode/css/css.js",
    "../node_modules/codemirror/mode/htmlmixed/htmlmixed.js",
    "js/editor.js"
    %}
    <script type="text/javascript" src="{{ ASSET_URL }}"></script>
{% endassets %}
{% endblock %}
